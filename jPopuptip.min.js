!function(){function a(a){s.bind(a,"mouseover",c,"hoverShow"),s.bind(a,"mouseout",d,"hoverHide")}function b(a){var a=a||window.event,a=a.target||a.srcElement;e(a)}function c(a){var a=a||window.event,a=a.target||a.srcElement;e(a)}function d(){document.getElementById("jPopuptip").style.display="none"}function e(a){var b,c,d=document.getElementById("jPopuptip"),e=a.getAttribute("data-content");e||(e=""),d?"none"==d.style.display?(a!==d.targetEle&&g(d,e),d.style.display="block",b=i(a,d),h(d,b.boxTop,b.boxLeft)):a!==d.targetEle?(g(d,e),b=i(a,d),h(d,b.boxTop,b.boxLeft)):d.style.display="none":(c=f(),document.body.appendChild(c),g(c,e),b=i(a,c),h(c,b.boxTop,b.boxLeft))}function f(){var a,b=[];for(a=0;4>a;a++)b[a]=j("div");return b[0].id="jPopuptip",b[0].style.display="block",b[0].className="m-tipbox",b[1].className="container",b[2].className="u-arrow u-arrowB",b[3].className="u-arrow u-arrowT",b[0].appendChild(b[1]),b[0].appendChild(b[2]),b[0].appendChild(b[3]),b[0]}function g(a,b){var c,d,e=a.getElementsByTagName("div");for(c=0,d=e.length;d>c;c++)if(s.hasClass(e[c],"container"))return e[c].innerHTML=b,void 0}function h(a,b,c){a.style.position="absolute",a.style.top=b+"px",a.style.left=c+"px"}function i(a,b){var c,d,e,f,g,h,i,j,n,o,r={tL:p(a),tT:q(a),eleSize:k(a)},t=m(self,r),u=s.options;switch("auto"!=u.width&&(b.style.width=u.width+"px"),"auto"!=u.height&&(b.style.height=u.height+"px"),c=k(b),d={needWidth:c.width-(r.eleSize.width-parseInt(u.boxOffsetX)),needHeight:c.height+parseInt(u.boxOffsetY)+u.arrowSize},e=l(b,t,d),f=r.tL+u.boxOffsetX,g=r.tL-d.needWidth,h=r.tT-u.boxOffsetY-c.height-u.arrowSize,i=r.tT+u.boxOffsetY+r.eleSize.height+u.arrowSize,j=0,n=0,b.targetEle=a,parseInt(e)){case 0:j=f,n=h,b.className="m-tipboxT m-tipboxR";break;case 1:j=g,n=h,b.className="m-tipboxT m-tipboxL";break;case 2:j=f,n=i,b.className="m-tipboxB m-tipboxR";break;case 3:j=g,n=i,b.className="m-tipboxB m-tipboxL"}return o={boxTop:n,boxLeft:j}}function j(a){return document.createElement(a)}function k(a){return{width:a.offsetWidth,height:a.offsetHeight}}function l(a,b,c){var d,e=[{realW:b.right,realH:b.top},{realW:b.left,realH:b.top},{realW:b.right,realH:b.bottom},{realW:b.left,realH:b.bottom}];for(d=0;4>d;d++)if(c.needWidth<=e[d].realW&&c.needHeight<=e[d].realH)return d;return 0}function m(a,b){var c=o(a),d=b.tT-c.scrollTop,e=b.tL-c.scrollLeft,f=n();return{top:d,left:e,right:f.viewWidth-b.eleSize.width-e,bottom:f.viewHeight-b.eleSize.height-d}}function n(){var a=window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth,b=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight;return{viewWidth:a,viewHeight:b}}function o(){return"BackCompat"==document.compatMode?{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}:{scrollTop:document.body.scrollTop+document.documentElement.scrollTop,scrollLeft:document.body.scrollLeft+document.documentElement.scrollLeft}}function p(a){for(var b=a.offsetLeft,c=a.offsetParent;null!=c;)b+=c.offsetLeft,c=c.offsetParent;return b}function q(a){for(var b=a.offsetTop,c=a.offsetParent;null!=c;)b+=c.offsetTop,c=c.offsetParent;return b}var r={width:"auto",height:"auto",boxOffsetX:20,boxOffsetY:5,arrowSize:10,triggle:"hover"},s={options:{},extend:function(a,b){var c,d={};if(!b)return a;for(c in a)d[c]=b[c]?b[c]:a[c];return d},bind:function(){return window.addEventListener?function(a,b,c,d){a.bindFn=a.bindFn||{},a.bindFn[d]={eventType:b,eventFn:c},a.addEventListener(b,c,!1)}:window.attachEvent?function(a,b,c,d){a.bindFn=a.bindFn||{},a.bindFn[d]={eventType:b,eventFn:c},a.attachEvent("on"+b,c,!1)}:void 0}(),hasClass:function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");return a.className.match(c)},addClass:function(a,b){var c,d,e=b.split(" ");for(c=0,d=e.length;d>c;c++)s.hasClass(a,e[c])||(a.className+=" "+e[c])},removeClass:function(a,b){if(a.classList)a.classList.remove(b);else{var c=new RegExp("(\\s|^)"+b+"(\\s|$)");a.className.replace(c,"")}},getEleByAttr:function(a,b){var c,d,e=new Array,f=new Array;for(e=document.all?document.all:document.getElementsByTagName("*"),c=0;c<e.length;c++)"class"==a?(d=new RegExp("(^| )"+b+"( |$)"),d.test(e[c].className)&&(f[f.length]=e[c])):"for"==a?(e[c].getAttribute("htmlFor")||e[c].getAttribute("for"))&&e[c].htmlFor==b&&(f[f.length]=e[c]):e[c].getAttribute(a)==b&&(f[f.length]=e[c]);return f}},t=function(a){return this instanceof t?(s.options=s.extend(r,a),this.init(),void 0):new t(a)};t.fn=t.prototype,t.fn.init=function(){var c,d,e,f=s.getEleByAttr("data-popuptip","show");for(c=0,d=f.length;d>c;c++)e=f[c].getAttribute("data-triggle"),e?"click"==e?s.bind(f[c],"click",b,"clickshow"):"hover"==e&&a(f[c]):a(f[c])},window.jPopuptip=t}();